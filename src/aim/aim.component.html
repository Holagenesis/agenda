<div *ngIf="showDuplicateWarning" class="duplicate-warning-overlay">
  <div class="duplicate-warning">
    <div class="warning-content">
      <h4>⚠️ Actividad Similar Encontrada</h4>
      <p>{{ duplicateMessage }}</p>
      <div class="warning-actions">
        <button class="btn btn-cancel" (click)="cancelDuplicate()" [disabled]="isLoading">
          Cancelar
        </button>
        <button class="btn btn-confirm" (click)="confirmDuplicate()" [disabled]="isLoading">
          {{ isLoading ? 'Procesando...' : 'Agregar Igual' }}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- El resto de tu template sigue igual -->

<div class="btn-ai">
  <!-- Tu contenido existente se mantiene igual -->


  <button 
    (mousedown)="startRecording()" 
    (mouseup)="stopRecording()"
    (mouseleave)="stopRecording()"
    (touchstart)="onTouchStart($event)" 
    (touchend)="onTouchEnd($event)"
    [disabled]="isLoading"
    class="record-button"
    [class.recording]="isRecording"
    [class.loading]="isLoading">
    
    <span *ngIf="!isLoading && !isRecording">Presiona para hablar</span>
    <span *ngIf="isRecording && !isLoading">Grabando... (suelta para enviar)</span>
    <span *ngIf="isLoading">Procesando...</span>
  </button>

  <div *ngIf="response" class="response-message">
    {{ response.message }}
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>
</div>

