<div class="btn-ai">
  <button 
    (mousedown)="startRecording()" 
    (mouseup)="stopRecording()"
    (mouseleave)="stopRecording()"
    (touchstart)="onTouchStart($event)" 
    (touchend)="onTouchEnd($event)"
    [disabled]="isLoading"
    class="record-button"
    [class.recording]="isRecording"
    [class.loading]="isLoading">
    
    <span *ngIf="!isLoading && !isRecording">Presiona para hablar</span>
    <span *ngIf="isRecording && !isLoading">Grabando... (suelta para enviar)</span>
    <span *ngIf="isLoading">Procesando...</span>
  </button>

  <div *ngIf="response" class="response-message">
    {{ response.message }}
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>
</div>