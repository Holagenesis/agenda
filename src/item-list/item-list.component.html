<div class="item-list-container">

  <!-- Modal de ConfirmaciÃ³n de EliminaciÃ³n -->
  <div *ngIf="showDeleteModal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Confirmar EliminaciÃ³n</h3>
        <span class="modal-close" (click)="closeDeleteModal()">Ã—</span>
      </div>
      <div class="modal-body">
        <p>Â¿EstÃ¡s seguro de que quieres eliminar <strong>"{{ currentItem?.description }}"</strong>?</p>
        <p class="modal-details">ID: {{ currentItem?.id }} | Fecha: {{ currentItem?.date | date:'mediumDate' }}</p>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" (click)="closeDeleteModal()">Cancelar</button>
        <button class="btn-delete" (click)="confirmDelete()">Eliminar</button>
      </div>
    </div>
  </div>

  <p *ngIf="items.length === 0" class="empty-message">No hay elementos en la lista.</p>

  <!-- Grid de items -->
  <div *ngIf="items.length > 0" class="items-grid">
    
    <div class="grid-item" *ngFor="let item of paginatedItems">
      <div class="item-card">
        <div class="card-header">
          <span class="item-close" (click)="openDeleteModal(item)">Ã—</span>
          <span class="item-edit" (click)="toggleEdit(item)">âœ</span>
        </div>
        
        <div class="container-body">
          <!-- MODO EDICIÃ“N -->
          <div *ngIf="isEditing(item.id); else viewMode">
            <div class="edit-form">
              <div class="form-group">
                <label>DescripciÃ³n:</label>
                <textarea 
                  #editInput
                  [(ngModel)]="item.editDescription"
                  class="edit-textarea"
                  (keydown.enter)="$event.preventDefault(); saveEdit(item)"
                  placeholder="Escribe la descripciÃ³n...">
                </textarea>
              </div>
              <div class="edit-buttons">
                <button class="btn-save" (click)="saveEdit(item)">ğŸ’¾</button>
                <button class="btn-cancel" (click)="cancelEdit(item)">âœ—</button>
              </div>
            </div>
          </div>

          <!-- MODO VISUALIZACIÃ“N -->
          <ng-template #viewMode>
            <div class="card-body">
              <p id="card-body-date">{{ item.date | date:'MMMM, d' }}</p>
            </div>
            <div class="card-body">
              <p>{{ item.description }}</p>
            </div>
            <div class="card-body" *ngIf="item.hour">
              <p><strong>Hora:</strong> {{ formatHour(item.hour) }}</p>
            </div>
          </ng-template>
        </div>

      </div>
    </div>
    
  </div>

  <!-- PaginaciÃ³n -->
  <div *ngIf="items.length > itemsPerPage" class="pagination-controls">
    <button 
      (click)="previousPage()" 
      [disabled]="currentPage === 1"
      class="pagination-btn">
      â† Anterior
    </button>
    
    <span class="page-info">
      PÃ¡gina {{ currentPage }} de {{ totalPages }}
    </span>
    
    <button 
      (click)="nextPage()" 
      [disabled]="currentPage === totalPages"
      class="pagination-btn">
      Siguiente â†’
    </button>
  </div>

</div>